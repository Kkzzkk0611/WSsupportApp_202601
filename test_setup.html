<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: #f5f5f5;
        }
        .card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        h1 { color: #2c3e50; }
        h2 { color: #4A9BA8; margin-top: 0; }
        button {
            background: #4A9BA8;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin-right: 1rem;
            margin-bottom: 0.5rem;
        }
        button:hover { background: #3a7f8a; }
        button.danger {
            background: #dc3545;
        }
        button.danger:hover { background: #c82333; }
        .status {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            background: #e7f5fe;
            border-left: 4px solid #17a2b8;
        }
        .success {
            background: #d4edda;
            border-left-color: #28a745;
        }
        pre {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 0.85rem;
        }
        .link {
            display: inline-block;
            margin-top: 1rem;
            color: #4A9BA8;
            text-decoration: none;
            font-weight: 600;
        }
        .link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h1>
    
    <div class="card">
        <h2>ğŸ“‹ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®è¨­å®š</h2>
        <p>æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’localStorageã«ä¿å­˜ã—ã¾ã™ã€‚</p>
        
        <button onclick="setupTestData()">âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</button>
        <button onclick="setupIncompleteData()">âš ï¸ ä¸å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆï¼ˆè­¦å‘Šãƒ†ã‚¹ãƒˆï¼‰</button>
        <button onclick="clearAllData()" class="danger">ğŸ—‘ï¸ ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        
        <div id="status" class="status" style="display:none;">
            <strong>çµæœ:</strong> <span id="status-text"></span>
        </div>
    </div>
    
    <div class="card">
        <h2>ğŸ” ç¾åœ¨ã®localStorageãƒ‡ãƒ¼ã‚¿</h2>
        <button onclick="showCurrentData()">ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º</button>
        <pre id="current-data" style="display:none;"></pre>
    </div>
    
    <div class="card">
        <h2>ğŸš€ æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ã‚’é–‹ã</h2>
        <p>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œã€æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦å‹•ä½œã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
        <a href="final_submit.html" class="link" target="_blank">â†’ æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ã‚’é–‹ã</a>
    </div>
    
    <script>
        function setupTestData() {
            // Complete test data
            const testData = {
                hazardMapLog: {
                    hazardMap: {
                        hazards: ['æ´ªæ°´æµ¸æ°´æƒ³å®šåŒºåŸŸ', 'åœŸç ‚ç½å®³è­¦æˆ’åŒºåŸŸ', 'æ´¥æ³¢æµ¸æ°´æƒ³å®šåŒºåŸŸ'],
                        location: {
                            lat: 35.6812,
                            lon: 139.7671
                        }
                    }
                },
                marblingLog: {
                    marbling: {
                        description: 'ã“ã®ãƒãƒ¼ãƒ–ãƒªãƒ³ã‚°ä½œå“ã¯ã€æ´ªæ°´ã®æµã‚Œã¨åœŸç ‚ç½å®³ã®ãƒªã‚¹ã‚¯ã‚’è‰²ã§è¡¨ç¾ã—ã¾ã—ãŸã€‚é’ã¯æ°´ã®æµã‚Œã€èŒ¶è‰²ã¯åœŸç ‚ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚'
                    }
                },
                collageLog: {
                    collage: {
                        description: 'é¿é›£æ‰€ãƒãƒ¼ã‚¯ã¨å®‰å…¨ãªé«˜å°ã‚’çµ„ã¿åˆã‚ã›ãŸã‚³ãƒ©ãƒ¼ã‚¸ãƒ¥ã§ã™ã€‚å®¶æ—ã§é¿é›£ã™ã‚‹çµŒè·¯ã‚’è€ƒãˆãªãŒã‚‰ä½œæˆã—ã¾ã—ãŸã€‚'
                    }
                },
                artworkSubmit: {
                    title: 'ç§ãŸã¡ã®è¡—ã®é˜²ç½ãƒãƒƒãƒ—',
                    creatorName: 'å±±ç”°å¤ªéƒ',
                    creationDate: new Date().toISOString().split('T')[0]
                }
            };
            
            // Save to localStorage
            Object.keys(testData).forEach(key => {
                localStorage.setItem(key, JSON.stringify(testData[key]));
            });
            
            showStatus('âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼æœ€çµ‚ç¢ºèªãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚', true);
        }
        
        function setupIncompleteData() {
            // Incomplete test data (missing some fields)
            const incompleteData = {
                hazardMapLog: {
                    hazardMap: {
                        hazards: ['æ´ªæ°´æµ¸æ°´æƒ³å®šåŒºåŸŸ'],
                        location: {
                            lat: 35.6812,
                            lon: 139.7671
                        }
                    }
                },
                marblingLog: {
                    marbling: {
                        description: ''  // Empty
                    }
                },
                collageLog: {
                    collage: {
                        description: 'ã‚³ãƒ©ãƒ¼ã‚¸ãƒ¥ã®èª¬æ˜ã®ã¿å…¥åŠ›'
                    }
                },
                artworkSubmit: {
                    title: '',  // Empty
                    creatorName: 'åŒ¿å',
                    creationDate: ''
                }
            };
            
            // Save to localStorage
            Object.keys(incompleteData).forEach(key => {
                localStorage.setItem(key, JSON.stringify(incompleteData[key]));
            });
            
            showStatus('âš ï¸ ä¸å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚è­¦å‘Šãƒãƒƒã‚¸ã‚„ã‚¢ãƒ©ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', true);
        }
        
        function clearAllData() {
            if (confirm('ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                ['hazardMapLog', 'marblingLog', 'collageLog', 'artworkSubmit'].forEach(key => {
                    localStorage.removeItem(key);
                });
                showStatus('ğŸ—‘ï¸ ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚', true);
                document.getElementById('current-data').style.display = 'none';
            }
        }
        
        function showCurrentData() {
            const data = {};
            ['hazardMapLog', 'marblingLog', 'collageLog', 'artworkSubmit'].forEach(key => {
                const item = localStorage.getItem(key);
                data[key] = item ? JSON.parse(item) : null;
            });
            
            const pre = document.getElementById('current-data');
            pre.textContent = JSON.stringify(data, null, 2);
            pre.style.display = 'block';
        }
        
        function showStatus(message, isSuccess) {
            const statusDiv = document.getElementById('status');
            const statusText = document.getElementById('status-text');
            statusDiv.style.display = 'block';
            statusText.textContent = message;
            if (isSuccess) {
                statusDiv.classList.add('success');
            } else {
                statusDiv.classList.remove('success');
            }
        }
        
        // Auto-show current data on load
        window.addEventListener('DOMContentLoaded', () => {
            const hasData = localStorage.getItem('hazardMapLog') || 
                           localStorage.getItem('marblingLog') || 
                           localStorage.getItem('collageLog') || 
                           localStorage.getItem('artworkSubmit');
            
            if (hasData) {
                showCurrentData();
            }
        });
    </script>
</body>
</html>
